
"actions.pm" files must return a hashref which is a list of

   action => callback

where "action" can be any of:

  _session_ready: called when the connection with the XMPP server is established
  _response: called when a response is received from another node
  _dispatch: called (if present) when no specific callback is available

  install:   used by the installer script
  _request: sent by an API node to the manager MUC

  or any "action" defined by the specific application.

The last parameter for the callback is an AnyEvent->condvar variable which
should be triggered once the callback is done, using one of the following
templates:

  $mcv->send(CCNQ::AE::CANCEL); # Cancel the response

  $mcv->send(CCNQ::AE::SUCCESS);
  or
  $mcv->send(CCNQ::AE::SUCCESS({ name => value }))

  $mcv->send(CCNQ::AE::FAILURE($error_template,$param1,$param2,..))

(FAILURE follows the templates in Locale::Maketext, i.e. [_1], [_2], .. for parameters.)

In _response handlers, since the $mcv->recv value is never used ($mcv has no
callback), it is possible to simply say:

  $mcv->send

to indicate completion of the response.
